<div class="mt-8" *ngIf="results && results.length > 0; else noResults">
  <h2 class="text-2xl font-semibold text-gray-800 dark:text-white mb-4">{{ 'SEARCH_RESULTS.RESULTS' | translate }}</h2>
  <div class="space-y-3">
    <div
      *ngFor="let song of results"
      class="flex items-center justify-between gap-4 p-3 bg-white dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition"
    >
      <!-- Left: artwork + text -->
      <div class="flex items-center min-w-0">
        <img
          class="w-14 h-14 rounded-md mr-4 flex-shrink-0 object-cover ring-1 ring-jambox-purple/50"
          [src]="song.thumbnailUrl"
          [alt]="song.title + ' cover'"
        />
        <div class="min-w-0">
          <p class="text-sm font-medium text-gray-900 dark:text-white truncate">
            {{ song.title }}
          </p>
          <p class="text-xs text-gray-600 dark:text-gray-400 truncate">
            {{ song.artist }}<span *ngIf="song.album"> Â· {{ song.album }}</span>
          </p>
        </div>
      </div>

      <!-- Right: icon button -->
      <button
        (click)="onAdd(song)"
        class="flex items-center justify-center w-9 h-9 rounded-full bg-jambox-purple text-white hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-jambox-purple active:scale-95 transition"
        [attr.aria-label]="'SEARCH_RESULTS.ADD_SONG' | translate:{songTitle: song.title, songArtist: song.artist}"
        type="button"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
             viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 5v14m7-7H5" />
        </svg>
      </button>
    </div>
  </div>

  <div class="mt-4 text-center">
    <button (click)="loadMore.emit()" [disabled]="loading" class="text-sm font-medium text-jambox-purple hover:underline disabled:opacity-50">
      <span *ngIf="loading">{{ 'SEARCH_RESULTS.LOADING' | translate }}</span>
      <span *ngIf="!loading">{{ 'SEARCH_RESULTS.SHOW_MORE' | translate }}</span>
    </button>
  </div>
</div>

<ng-template #noResults>
  <div class="mt-8 text-gray-500 dark:text-gray-400 text-sm italic">
    {{ 'SEARCH_RESULTS.NO_RESULTS' | translate }}
  </div>
</ng-template>
