<div class="max-w-4xl mx-auto px-4 sm:px-6">
  <h1 class="text-3xl sm:text-4xl font-bold text-center text-green-800 mb-6 sm:mb-8">Jambox Admin</h1>

  <!-- Song Queue -->
  <div class="bg-white p-4 sm:p-6 rounded-lg shadow-md border border-gray-200">
    <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4">
      <h2 class="text-xl sm:text-2xl font-semibold text-gray-800">Song Queue</h2>

      <!-- Autoplay Toggle -->
      <div class="flex items-center gap-3">
        <span class="text-sm font-medium text-gray-700">Autoplay</span>
        <button
          type="button"
          (click)="toggleAutoplay()"
          [attr.aria-pressed]="autoplay"
          class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
          [ngClass]="autoplay ? 'bg-green-600' : 'bg-gray-300'"
        >
          <span
            class="inline-block h-4 w-4 transform rounded-full bg-white shadow transition"
            [ngClass]="autoplay ? 'translate-x-6' : 'translate-x-1'"
          ></span>
        </button>
      </div>
    </div>

    <div *ngIf="autoplay" class="mb-4 text-xs sm:text-sm text-green-700 bg-green-50 border border-green-200 rounded-md px-3 py-2 flex items-start gap-2">
      <svg class="h-4 w-4 mt-0.5 flex-shrink-0 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293A1 1 0 006.293 10.707l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
      </svg>
      <span>Songs are auto-accepted. Review buttons are hidden.</span>
    </div>

    <!-- Queue status message -->
    <div *ngIf="queue.length === 0" class="text-center py-8 text-gray-500">
      <p>No songs in queue. Users can add songs from the search page.</p>
    </div>

    <div class="space-y-4">
      <!-- Actual song queue -->
      <div
        *ngFor="let song of queue; trackBy: trackBySongId"
        class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-gray-50 border border-gray-200 rounded-lg"
      >
        <div class="flex items-start sm:items-center gap-4 flex-1 min-w-0">
          <img
            class="w-14 h-14 sm:w-16 sm:h-16 rounded-md object-cover flex-shrink-0"
            [src]="song.thumbnailUrl || 'https://placehold.co/64x64/a7f3d0/166534?text=' + song.id"
            [alt]="song.title + ' album art'"
          >
          <div class="space-y-1 min-w-0">
            <h3 class="text-base sm:text-lg font-semibold text-gray-900 leading-snug break-words">
              {{ song.title }}
            </h3>
            <div class="flex items-center gap-2">
              <p class="text-gray-600 text-sm sm:text-base truncate sm:whitespace-normal">
                {{ song.artist }}<span *ngIf="song.album"> - {{ song.album }}</span>
              </p>
              <span *ngIf="autoplay" class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700">
                Auto-Accepted
              </span>
            </div>
          </div>
        </div>

        <!-- Action buttons -->
        <div class="flex flex-row sm:flex-row gap-3 sm:gap-4 w-full sm:w-auto">
          <button
            *ngIf="!autoplay"
            (click)="acceptSong(song)"
            class="w-full sm:w-auto px-4 py-2 font-semibold text-white bg-green-500 rounded-md hover:bg-green-600 text-sm sm:text-base transition"
            [attr.aria-label]="'Accept ' + song.title"
          >
            Accept
          </button>
          <button
            (click)="remove(song)"
            class="w-full sm:w-auto px-4 py-2 font-semibold text-white bg-red-500 rounded-md hover:bg-red-600 text-sm sm:text-base transition"
            [attr.aria-label]="'Remove ' + song.title + ' from queue'"
          >
            {{ autoplay ? 'Remove' : 'Decline' }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
